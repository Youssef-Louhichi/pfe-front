<div class="container1">
  <div class="loading-overlay" *ngIf="isLoading">
    <app-loading-spinner [size]="'60px'" [thickness]="'5px'" [primaryColor]="'#3f51b5'" [text]="'Processing data...'"
      [textColor]="'#3f51b5'" [showText]="true">
    </app-loading-spinner>
  </div>

  <div class="title">
    Setup new connection
  </div>
  <hr>
  <div class="db_form">
    <div class="list_db">
      <ul>
        <li [class.active]="db_type === 'MySQL'" (click)="changeDb(1)">
          <i class="fas fa-database"></i> Base de données MySQL
        </li>
        <li [class.active]="db_type === 'Oracle'" (click)="changeDb(2)">
          <i class="fas fa-database"></i> Base de données Oracle
        </li>
      </ul>
    </div>
    <div class="vertical-line"></div>
    <div class="form-container">
      <h2>{{db_type}} Database informations</h2>
      <form action="" class="formulaire" [formGroup]="form" (ngSubmit)="insertConnection()">
        <label class="port_label">
          Port
          <input type="number" formControlName="port" placeholder="Enter port" class="no-spinners">
          <div *ngIf="form.get('port').touched && form.get('port').errors?.['required']" class="field-error">
            Port is required
          </div>
        </label>
        <label class="host_label">
          Host
          <input type="text" formControlName="host" placeholder="Enter host">
          <div *ngIf="form.get('host').touched && form.get('host').errors?.['required']" class="field-error">
            Host is required
          </div>
        </label>
        <label class="user_label">
          Username
          <input type="text" formControlName="username" placeholder="Enter username">
          <div *ngIf="form.get('username').touched && form.get('username').errors?.['required']" class="field-error">
            Username is required
          </div>
        </label>
        <label class="password_label">
          Password
          <input type="password" formControlName="password" placeholder="Enter password">
          <div *ngIf="form.get('password').touched && form.get('password').errors?.['required']" class="field-error">
            Password is required
          </div>
        </label>
        <button type="submit">Connect</button>
      </form>
      <div *ngIf="errorMessage" class="error-message">
        <i class="fas fa-exclamation-circle"></i> {{errorMessage}}
      </div>
    </div>
  </div>
</div>